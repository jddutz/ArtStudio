<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

  <!-- Only override specific MaterialDesign styles that need customization -->
  <Style x:Key="ArtStudio.DrawingCanvas"
         TargetType="Canvas">
    <Setter Property="Background"
            Value="White"/>
    <Setter Property="ClipToBounds"
            Value="True"/>
  </Style>

  <!-- Application-specific controls that don't have MaterialDesign equivalents -->
  <Style x:Key="ArtStudio.LayerItem"
         TargetType="Border">
    <Setter Property="Background"
            Value="{DynamicResource MaterialDesignCardBackground}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource MaterialDesignDivider}"/>
    <Setter Property="BorderThickness"
            Value="0,0,0,1"/>
    <Setter Property="Padding"
            Value="4"/>
    <Setter Property="Margin"
            Value="1"/>
  </Style>

  <Style x:Key="ArtStudio.CanvasBorder"
         TargetType="Border">
    <Setter Property="BorderBrush"
            Value="{DynamicResource MaterialDesignDivider}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="Background"
            Value="{DynamicResource MaterialDesignPaper}"/>
  </Style>

  <!-- Menu and toolbar styles that integrate with MaterialDesign -->
  <Style x:Key="ArtStudio.Menu"
         TargetType="Menu">
    <Setter Property="Background"
            Value="{DynamicResource MaterialDesignToolBarBackground}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource ArtStudio.OnBackground}"/>
  </Style>

  <Style x:Key="ArtStudio.ToolBar"
         TargetType="ToolBar">
    <Setter Property="Background"
            Value="#FF101012"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource MaterialDesignDivider}"/>
    <Setter Property="BorderThickness"
            Value="0,0,0,1"/>
    <Setter Property="Foreground"
            Value="{DynamicResource ArtStudio.OnBackground}"/>
  </Style>

  <!-- Icon button style for toolbar buttons -->
  <Style x:Key="ArtStudio.IconButton"
         TargetType="Button">
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="BorderThickness"
            Value="0"/>
    <Setter Property="Width"
            Value="32"/>
    <Setter Property="Height"
            Value="32"/>
    <Setter Property="Padding"
            Value="4"/>
    <Setter Property="Margin"
            Value="2"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="Foreground"
            Value="{DynamicResource ArtStudio.OnBackground}"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Button">
          <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="4">
            <ContentPresenter HorizontalAlignment="Center"
                              VerticalAlignment="Center"
                              RecognizesAccessKey="True"
                              TextElement.Foreground="{TemplateBinding Foreground}"/>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter Property="Background"
                      Value="{DynamicResource MaterialDesignSelection}"/>
            </Trigger>
            <Trigger Property="IsPressed"
                     Value="True">
              <Setter Property="Background"
                      Value="{DynamicResource MaterialDesignDivider}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Layer list box style -->
  <Style x:Key="ArtStudio.LayerListBox"
         TargetType="ListBox">
    <Setter Property="Background"
            Value="{DynamicResource MaterialDesignCardBackground}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource MaterialDesignDivider}"/>
    <Setter Property="Foreground"
            Value="{DynamicResource ArtStudio.OnBackground}"/>
  </Style>

  <!-- Status bar style -->
  <Style x:Key="ArtStudio.StatusBar"
         TargetType="StatusBar">
    <Setter Property="Background"
            Value="{DynamicResource MaterialDesignToolBarBackground}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource MaterialDesignDivider}"/>
    <Setter Property="BorderThickness"
            Value="0,1,0,0"/>
    <Setter Property="Foreground"
            Value="{DynamicResource ArtStudio.OnBackground}"/>
  </Style>

  <!-- Palette card style for tool and layer palettes -->
  <Style x:Key="ArtStudio.PaletteCard"
         TargetType="{x:Type materialDesign:Card}"
         xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">
    <Setter Property="Margin"
            Value="4"/>
    <Setter Property="Padding"
            Value="8"/>
    <Setter Property="Background"
            Value="#FF18181A"/>
    <Setter Property="Foreground"
            Value="{DynamicResource ArtStudio.OnBackground}"/>
    <Setter Property="UniformCornerRadius"
            Value="4"/>
  </Style>

  <!-- Tool button style for palette tools -->
  <Style x:Key="ArtStudio.ToolButton"
         TargetType="Button">
    <Setter Property="Background"
            Value="Transparent"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource MaterialDesignDivider}"/>
    <Setter Property="Margin"
            Value="2"/>
    <Setter Property="Padding"
            Value="8"/>
    <Setter Property="MinHeight"
            Value="36"/>
    <Setter Property="HorizontalAlignment"
            Value="Stretch"/>
    <Setter Property="HorizontalContentAlignment"
            Value="Left"/>
    <Setter Property="Cursor"
            Value="Hand"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Button">
          <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="4">
            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                              VerticalAlignment="Center"
                              Margin="{TemplateBinding Padding}"/>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
              <Setter Property="Background"
                      Value="{DynamicResource MaterialDesignSelection}"/>
            </Trigger>
            <Trigger Property="IsPressed"
                     Value="True">
              <Setter Property="Background"
                      Value="{DynamicResource MaterialDesignFlatButtonClick}"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Tool group style for GroupBox controls in tool panels -->
  <Style x:Key="ArtStudio.ToolGroup"
         TargetType="GroupBox">
    <Setter Property="Background"
            Value="{DynamicResource MaterialDesignCardBackground}"/>
    <Setter Property="BorderBrush"
            Value="{DynamicResource MaterialDesignDivider}"/>
    <Setter Property="BorderThickness"
            Value="1"/>
    <Setter Property="Foreground"
            Value="{DynamicResource ArtStudio.OnBackground}"/>
    <Setter Property="Margin"
            Value="0,0,0,8"/>
    <Setter Property="Padding"
            Value="8"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="GroupBox">
          <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}"
                  CornerRadius="4">
            <Grid>
              <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
              </Grid.RowDefinitions>
              <ContentPresenter Grid.Row="0"
                                ContentSource="Header"
                                Margin="8,4,8,4"
                                TextElement.FontWeight="SemiBold"
                                TextElement.Foreground="{DynamicResource ArtStudio.OnBackground}"/>
              <ContentPresenter Grid.Row="1"
                                Margin="{TemplateBinding Padding}"/>
            </Grid>
          </Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <!-- Tool slider style for sliders in tool palettes -->
  <Style x:Key="ArtStudio.ToolSlider"
         TargetType="Slider">
    <Setter Property="Minimum"
            Value="0"/>
    <Setter Property="Maximum"
            Value="100"/>
    <Setter Property="Margin"
            Value="4,8,4,8"/>
    <Setter Property="Foreground"
            Value="{DynamicResource ArtStudio.Primary}"/>
    <Setter Property="Background"
            Value="{DynamicResource ArtStudio.Surface}"/>
    <Setter Property="Height"
            Value="24"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Slider">
          <Grid>
            <Track x:Name="PART_Track"
                   VerticalAlignment="Center"
                   IsDirectionReversed="False">
              <Track.DecreaseRepeatButton>
                <RepeatButton Command="Slider.DecreaseLarge"
                              Style="{x:Null}"/>
              </Track.DecreaseRepeatButton>
              <Track.Thumb>
                <Thumb Width="16"
                       Height="16"
                       Background="{DynamicResource ArtStudio.Primary}"/>
              </Track.Thumb>
              <Track.IncreaseRepeatButton>
                <RepeatButton Command="Slider.IncreaseLarge"
                              Style="{x:Null}"/>
              </Track.IncreaseRepeatButton>
            </Track>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
</ResourceDictionary>
